{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst galleryGrid = document.querySelector('.gallery-grid');\n\nconst BASE_URL = 'https://pixabay.com/api/';\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const inputValue = event.target.elements.query.value.trim();\n  if (!inputValue) {\n    iziToast.error({\n      message: 'Search field is empty',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  getImagesByInputValue(inputValue)\n    .then(data => {\n      if (data?.hits?.length > 0) {\n        createMarkupByHits(data.hits);\n        return;\n      }\n      throw Error(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n    })\n    .catch(error => {\n      iziToast.info({\n        message:\n          typeof error === 'string' ? error : 'Something went wrong, sorry!',\n        position: 'topRight',\n      });\n    });\n\n  event.target.reset();\n}\n\nfunction getImagesByInputValue(q) {\n  const paramsStrQuery = new URLSearchParams({\n    key: '42157668-d969611c6fdd34526589fe987',\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safeSearch: true,\n  });\n\n  const PARAMS = `?${paramsStrQuery}`;\n  const url = BASE_URL + PARAMS;\n\n  return fetch(url).then(response => response.json());\n}\n\nfunction createMarkupByHits(hits) {\n  galleryGrid.innerHTML = '';\n\n  const galleryItem = hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<a href=\"${largeImageURL}\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-card\">\n      <p><b>Likes:</b> ${likes}</p>\n      <p><b>Views:</b> ${views}</p>\n      <p><b>Comments:</b> ${comments}}</p>\n      <p><b>Downloads:</b> ${downloads}</p>\n      </a>`;\n      }\n    )\n    .join('');\n\n  galleryGrid.insertAdjacentHTML('beforeend', galleryItem);\n\n  let gallery = new SimpleLightbox('.gallery-grid a', {\n    captionsData: 'alt',\n  });\n\n  gallery.refresh();\n}\n"],"names":["form","galleryGrid","BASE_URL","handleSubmit","event","inputValue","iziToast","getImagesByInputValue","data","_a","createMarkupByHits","error","q","PARAMS","url","response","hits","galleryItem","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAc,SAAS,cAAc,eAAe,EAEpDC,EAAW,2BAEjBF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAaD,EAAM,OAAO,SAAS,MAAM,MAAM,OACrD,GAAI,CAACC,EAAY,CACfC,EAAS,MAAM,CACb,QAAS,wBACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDC,EAAsBF,CAAU,EAC7B,KAAKG,GAAQ,OACZ,KAAIC,EAAAD,GAAA,YAAAA,EAAM,OAAN,YAAAC,EAAY,QAAS,EAAG,CAC1BC,EAAmBF,EAAK,IAAI,EAC5B,MACD,CACD,MAAM,MACJ,0EACR,CACA,CAAK,EACA,MAAMG,GAAS,CACdL,EAAS,KAAK,CACZ,QACE,OAAOK,GAAU,SAAWA,EAAQ,+BACtC,SAAU,UAClB,CAAO,CACP,CAAK,EAEHP,EAAM,OAAO,OACf,CAEA,SAASG,EAAsBK,EAAG,CAShC,MAAMC,EAAS,IARQ,IAAI,gBAAgB,CACzC,IAAK,qCACL,EAAAD,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,CAEgC,GAC3BE,EAAMZ,EAAWW,EAEvB,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAYA,EAAS,KAAI,CAAE,CACpD,CAEA,SAASL,EAAmBM,EAAM,CAChCf,EAAY,UAAY,GAExB,MAAMgB,EAAcD,EACjB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe,YAAYL,CAAa;AAAA,kBACtBD,CAAY,UAAUE,CAAI;AAAA,yBACnBC,CAAK;AAAA,yBACLC,CAAK;AAAA,4BACFC,CAAQ;AAAA,6BACPC,CAAS;AAAA,WAGjC,EACA,KAAK,EAAE,EAEVvB,EAAY,mBAAmB,YAAagB,CAAW,EAEzC,IAAIQ,EAAe,kBAAmB,CAClD,aAAc,KAClB,CAAG,EAEO,QAAO,CACjB"}